<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AnonymAdvice — Honest advice, privately</title>
  <style>
    body { font-family: Arial, sans-serif; background:#151b2b; color:#e5e7eb; margin:0; }
    .container { max-width:720px; margin:auto; padding:20px; }
    h1 { color:#fbbf24; }
    .card { background:#182144; padding:22px; border-radius:12px; margin-bottom:22px; box-shadow:0 2px 8px #0002; }
    label { display:block; margin-top:10px; }
    select, textarea, input { width:100%; padding:10px; margin-top:5px; border-radius:8px; border:1px solid #32436e; background:#212752; color:#e5e7eb; }
    button { margin-top:17px; padding:12px 18px; border:none; border-radius:8px; background:#ffe070; color:#222c46; font-weight:bold; cursor:pointer; }
    .status { margin-top:10px; padding:12px; border-radius:8px; background:#212752; }
    .ok { border:1.5px solid #22c55e; }
    .err { border:1.5px solid #ef4444; }
    .warn { border:1.5px solid #fb923c; }
    .note { font-size:15px; color:#eab308; margin-bottom:16px;}
    a.button { display:inline-block; margin-top:10px; padding:10px 14px; border-radius:8px; background:#212752; color:#ffd94d; text-decoration:none; border:1px solid #fbbf24; }
    @media (max-width:600px){ .container {padding:6px;} }
  </style>
</head>
<body>
  <div class="container">
    <h1>Get honest advice — stay anonymous.</h1>
    <p class="note">Free instant AI advice, or personalized human reply for deeper support (paid). Your privacy, empathy, and trust matter.</p>
    <div class="card">
      <form id="adviceForm">
        <label for="topic">Topic</label>
        <select id="topic" required>
          <option value="" disabled selected>Select</option>
          <option>Life & direction</option>
          <option>Stress & anxiety</option>
          <option>Work & career</option>
          <option>Relationships</option>
          <option>Health & habits</option>
          <option>Loss & grief</option>
          <option>PhD / academic stress</option>
          <option>Loneliness</option>
          <option>Motivation</option>
          <option>Decision-making</option>
          <option>Self-esteem</option>
          <option>Other</option>
        </select>

        <label for="message">Your situation (feel free to be open)</label>
        <textarea id="message" required placeholder="Briefly describe what's happening, e.g., 'I'm feeling anxious about my thesis...'" rows="4"></textarea>

        <label for="mood">Mood</label>
        <select id="mood">
          <option>Neutral</option>
          <option>Confused</option>
          <option>Anxious</option>
          <option>Sad</option>
          <option>Angry</option>
          <option>Hopeful</option>
          <option>Lost</option>
          <option>Lonely</option>
        </select>

        <label for="email">Email (for human reply, optional)</label>
        <input type="email" id="email" placeholder="your@email.com" />

        <label for="mode">Advice type</label>
        <select id="mode" required>
          <option value="" disabled selected>Select</option>
          <option value="ai">Free — AI advice (instant)</option>
          <option value="human10">Paid — Human advice (€10, email reply)</option>
        </select>

        <button type="submit">Get Advice</button>
      </form>

      <div id="status" class="status" style="display:none;"></div>

      <div id="aiResult" class="card" style="display:none;">
        <strong>AI Reflection</strong>
        <p id="aiText"></p>
        <small style="color:#ffe38d;">For urgent or sensitive situations, consider also asking for a personal human reply.</small>
      </div>

      <div id="paymentOptions" style="display:none;">
        <p><strong>Step 1 — Complete payment (€10)</strong></p>
        <a id="payPayPal" class="button" href="#" target="_blank">Pay €10 with PayPal</a>
      </div>

      <div id="mailtoBlock" class="card" style="display:none;">
        <strong>Step 2 — Send your request (after payment)</strong>
        <p>After paying, click below to open your email app with your request pre-filled for a confidential reply.</p>
        <a id="mailtoBtn" class="button" href="#">Open Email to Send</a>
      </div>
    </div>

    <div style="margin-top:25px;font-size:13px;color:#a3a3a3;">
      <p>We never store your emails, payments are handled via PayPal. For immediate external crisis support, contact a professional.</p>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const CONFIG = {
        OWNER_EMAIL: "contact@anonymadvice.com",  // where you receive the requests
        PAYPAL_URL_10: "https://www.paypal.com/ncp/payment/DYJF6RCXMV8YJ",
        BRAND_NAME: "AnonymAdvice"
      };

      const AI_RESPONSES = {
        "Life & direction": [
          "When feeling lost, write down three values that matter most. Choices become clearer when aligned with values.",
          "Life direction often emerges from small experiments. Take one step toward curiosity, not certainty.",
          "Everyone faces crossroads. Courage is often following what matters, not what's easiest.",
          "Try imagining your best friend giving you advice on this — what would they say?",
        ],
        "Stress & anxiety": [
          "Stress shrinks when broken into smaller tasks. Write down one thing you can finish today.",
          "Anxiety often signals care. Ask: what matters so much that it makes me anxious?",
          "Breathe out slowly; notice the smallest thing you control right now.",
          "You’re not your thoughts — if they’re racing, try writing them down.",
        ],
        "Work & career": [
          "Career growth is rarely linear. Think in seasons: some are for learning, others for advancing.",
          "If stuck, ask: what skill could I build in the next 30 days that future-you will thank you for?",
          "Consider small wins over big leaps. Start with one step.",
        ],
        "Relationships": [
          "Healthy relationships thrive on boundaries. State your needs kindly, and listen openly.",
          "Connection comes from sharing feelings, not just facts.",
          "Disagreements aren’t failures — they’re moments to build understanding.",
        ],
        "Health & habits": [
          "Habits stick when tied to identity. Instead of 'I want to run,' say 'I’m becoming a runner.'",
          "Start with the smallest version of the habit. One push-up, one glass of water.",
          "If you miss a day, start again, gently.",
        ],
        "Loss & grief": [
          "Grief is love with nowhere to go. Let yourself feel, honor memories in small rituals.",
          "Healing doesn’t mean forgetting. Carry love forward, learn to live again.",
          "You are allowed to feel sadness and hope at the same time.",
        ],
        "PhD / academic stress": [
          "PhD journeys are marathons, not sprints. Break tasks into milestones, celebrate progress.",
          "Stress eases when you focus on what's within control: today's reading, today's writing.",
          "Academic pressure is real; take breaks, ask for help if stuck.",
        ],
        "Loneliness": [
          "Loneliness is a signal, not a verdict. Try reaching out, even for a brief chat.",
          "You are not alone in feeling this way. Small acts of connection help.",
          "Consider joining a group or forum, even anonymously.",
        ],
        "Motivation": [
          "Motivation ebbs and flows. Try starting even when you don’t feel ready.",
          "A tiny start is better than over-preparing. One minute counts.",
          "Remember why you began — write your reason.",
        ],
        "Decision-making": [
          "List your choices, write their pros/cons. Then trust your gut after sleeping on it.",
          "No decision is permanent — most things can be changed.",
        ],
        "Self-esteem": [
          "Self-worth isn't a grade. Try listing three things you did well this week.",
          "You deserve kindness; treat yourself as you treat a friend.",
        ],
        "Other": [
          "Every situation carries a lesson. Ask: what is this teaching me about myself?",
          "Uncertainty is the birthplace of possibility. Lean into curiosity.",
        ]
      };

      const MOOD_TIPS = {
        "Confused": "Confusion means you're searching for meaning. Take the next small step, not the perfect step.",
        "Anxious": "Anxiety signals you care about something important to you.",
        "Sad": "Sadness is a part of healing. Try one gentle act for yourself today.",
        "Angry": "Anger protects boundaries. Name it, then calmly share your needs.",
        "Hopeful": "Hope is the fuel for change. List what you want to rebuild or grow.",
        "Lost": "Feeling lost isn't failure — it's the start of discovery.",
        "Lonely": "Loneliness asks for connection. Reach for support, even a tiny step.",
        "Neutral": "Let yourself feel whatever comes; it's normal to be uncertain.",
      };

      const statusEl = document.getElementById("status");
      const aiResult = document.getElementById("aiResult");
      const aiText = document.getElementById("aiText");
      const mailtoBlock = document.getElementById("mailtoBlock");
      const mailtoBtn = document.getElementById("mailtoBtn");
      const payPayPal = document.getElementById("payPayPal");
      const paymentOptions = document.getElementById("paymentOptions");

      function status(msg, type) {
        if (!msg) { statusEl.style.display="none"; return; }
        statusEl.style.display="block";
        statusEl.textContent = msg;
        statusEl.className = "status " + type;
      }

      function getAIAdvice(topic, mood) {
        const responses = AI_RESPONSES[topic] || AI_RESPONSES["Other"];
        const base = responses[Math.floor(Math.random() * responses.length)];
        const tip = MOOD_TIPS[mood] || "";
        let advice = base;
        if (tip) advice += "\n\n" + tip;
        advice += "\n\nEmotions are signals, not verdicts.";
        return advice;
      }

      function updateMailto(topic, mood, message, email) {
        const subject = encodeURIComponent(`[${CONFIG.BRAND_NAME}] Human Advice Request — ${topic}`);
        const body = encodeURIComponent(
`Topic: ${topic}
Mood: ${mood}
Reply to (email): ${email || "Reply to this sender"}

Message:
${message}

Payment: I have paid €10 via PayPal (transaction ID: ...)

I prefer to stay anonymous.`);
        mailtoBtn.href = `mailto:${CONFIG.OWNER_EMAIL}?subject=${subject}&body=${body}`;
      }

      document.getElementById("adviceForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const topic = document.getElementById("topic").value;
        const message = document.getElementById("message").value.trim();
        const mood = document.getElementById("mood").value;
        const mode = document.getElementById("mode").value;
        const email = document.getElementById("email").value.trim();
        status("", "");

        if (!topic || !message || !mode) {
          status("Please fill everything marked required.", "warn");
          return;
        }

        if (mode === "ai") {
          // Free AI advice
          aiText.textContent = getAIAdvice(topic, mood);
          aiResult.style.display = "block";
          paymentOptions.style.display = "none";
          mailtoBlock.style.display = "none";
          status("Here is a reflection to help you think through this. For deeper support you can also request a human reply.", "ok");
        } else if (mode === "human10") {
          // Human advice flow: payment + email
          aiResult.style.display = "none";

          // Prepare PayPal link + email
          payPayPal.href = CONFIG.PAYPAL_URL_10;
          updateMailto(topic, mood, message, email);

          paymentOptions.style.display = "block";
          mailtoBlock.style.display = "block";

          // Open PayPal in a new tab automatically
          window.open(CONFIG.PAYPAL_URL_10, "_blank");

          status("Step 1: A PayPal page has opened in a new tab to pay €10. Step 2: After payment, click 'Open Email to Send' to send me your request.", "ok");
        }
      });
    });
  </script>
</body>
</html>
